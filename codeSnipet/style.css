body, html {
    margin: 0;
    padding: 0;
    height: 100%;
    font-family: sans-serif;
    background-color: #f0f0f0;
    overflow: hidden; /* 전체 페이지 스크롤 방지 (데스크탑) */
}

.container {
    display: flex;
    height: 100vh;
    flex-direction: column;
}

.main-content-wrapper {
    display: flex;
    flex-grow: 1;
    overflow: hidden;
}

.editor-pane {
    display: flex;
    flex-direction: column;
    background-color: #282c34;
    color: #abb2bf;
    overflow: hidden;
}

.preview-pane {
    background-color: #fff;
    overflow: hidden;
    display: flex; /* 내부 iframe이 100% 채우도록 */
    flex-direction: column; /* 내부 iframe이 100% 채우도록 */
}
#preview-frame { /* preview-pane 내부를 꽉 채우도록 */
    flex-grow: 1; /* 사용 가능한 공간을 모두 차지 */
    width: 100%;   /* 너비도 100% */
    /* height: 100%; */ /* flex-grow가 있으므로 height: 100%는 없어도 됨 */
    border: none;
}


/* Split.js 구분선 스타일 */
.gutter {
    background-color: #4f5b66;
    background-repeat: no-repeat;
    background-position: 50%;
    z-index: 10;
}
.gutter.gutter-horizontal {
    cursor: col-resize;
    width: 10px;
}
.gutter.gutter-vertical {
    cursor: row-resize;
    height: 10px;
}

.code-section {
    display: flex;
    flex-direction: column;
    overflow: hidden;
    min-height: 0; /* Split.js가 크기를 줄일 수 있도록 */
}
.code-section label {
    padding: 6px 10px;
    background-color: #3a3f4b;
    font-weight: bold;
    flex-shrink: 0;
    font-size: 13px;
    border-bottom: 1px solid #4f5b66;
}
.CodeMirror {
    flex-grow: 1;
    border: none;
    min-height: 0; /* Split.js가 크기를 줄일 수 있도록 */
}

#run-button {
    padding: 10px 15px;
    background-color: #61afef;
    color: white;
    border: none;
    cursor: pointer;
    font-size: 16px;
    margin: 8px;
    border-radius: 4px;
    flex-shrink: 0;
}
#run-button:hover {
    background-color: #528baf;
}


/* --- 웹 터미널 스타일 --- */
#web-terminal-container {
    width: 100%;
    height: 180px; /* 데스크탑에서의 기본 터미널 높이 */
    background-color: #1e1e1e;
    color: #cccccc;
    border-top: 2px solid #4f5b66;
    padding: 10px;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    flex-shrink: 0;
}
#web-terminal-container h2 {
    margin-top: 0;
    margin-bottom: 8px;
    font-size: 1.0em;
    color: #00aaff;
    padding-bottom: 5px;
    border-bottom: 1px solid #333;
    flex-shrink: 0;
}
#web-terminal {
    flex-grow: 1;
    overflow-y: auto;
    font-family: 'Consolas', 'Monaco', 'Lucida Console', monospace;
    font-size: 0.85em;
    line-height: 1.3;
    background-color: #161616;
    padding: 5px;
    border-radius: 3px;
}
.terminal-output p {
    margin: 0 0 3px 0;
    white-space: pre-wrap;
    word-break: break-all;
}


/* --- 자동화 스크립트 뷰어 스타일 (변경 없음) --- */
.automation-script-viewer {
    width: 100%;
    background-color: #282c34;
    color: #abb2bf;
    border-top: 2px solid #4f5b66;
    padding: 0;
    box-sizing: border-box;
    flex-shrink: 0;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    /* height: 150px; */ /* 필요시 고정 높이, 또는 내용따라 자동 */
}
.automation-script-viewer h3 {
    padding: 8px 10px;
    background-color: #3a3f4b;
    margin: 0;
    font-size: 1.0em;
    flex-shrink: 0;
    border-bottom: 1px solid #4f5b66;
}
.automation-script-viewer .CodeMirror {
    flex-grow: 1;
    border: none;
    font-size: 0.85em;
    min-height: 80px;
}


/* 모바일 화면 (768px 이하) */
@media (max-width: 768px) {
    body, html {
        overflow: auto; /* 모바일에서는 전체 페이지 스크롤 허용 */
    }
    .container {
        /* flex-direction: column; 이미 column */
        height: auto; /* 내용에 따라 높이가 늘어날 수 있도록 */
    }

    .main-content-wrapper {
        flex-direction: column; /* 에디터와 미리보기도 수직으로 */
        flex-grow: 0; /* vh 기반 높이 사용 위해 grow 해제 */
        height: auto; /* 내부 요소들의 높이에 따라 결정 */
    }

    .editor-pane {
        /* height: 45vh; */ /* 이전 값 */
        height: auto; /* JS로 스크롤하므로, 에디터 내용은 다 보일 필요 없음. 최소 높이로 제어 */
        min-height: 40vh; /* 최소한 이 정도는 에디터 영역 확보 */
        order: 1; /* 표시 순서: 에디터 */
    }

    .preview-pane {
        /* height: 25vh; */ /* 이전 값 */
        height: 50vh; /* 실행 결과를 좀 더 잘 볼 수 있도록 높이 확보 */
        min-height: 200px; /* 최소 미리보기 높이 */
        border-top: 2px solid #ddd;
        order: 3; /* 표시 순서: 미리보기 (터미널 다음 또는 이전, 취향따라) */
    }

    .gutter {
        display: none !important; /* 모바일에서는 Split.js 구분선 숨김 */
    }

    .code-section {
         flex-grow: 1; /* editor-pane 내에서 공간 분배 */
         min-height: 0; /* 내부 CodeMirror가 줄어들 수 있도록 */
    }
    .CodeMirror {
        min-height: 60px; /* 각 CodeMirror 에디터의 최소 높이 */
    }

    #web-terminal-container {
        /* height: 15vh; */ /* 이전 값 */
        height: 35vh; /* 터미널도 결과를 충분히 볼 수 있도록 높이 확보 */
        min-height: 150px; /* 최소 터미널 높이 */
        margin-top: 0;
        border-top: 2px solid #4f5b66;
        order: 2; /* 표시 순서: 터미널 (에디터 다음, 미리보기 이전) */
    }
    #web-terminal {
        font-size: 0.8em;
    }

    /* 자동화 스크립트 뷰어 (모바일에서는 기본적으로 안 보이거나 작게) */
    .automation-script-viewer {
        /* display: none; */ /* 아예 숨기려면 */
        height: auto; /* 내용에 따라, 또는 min-height 설정 */
        min-height: 10vh;
        order: 4; /* 가장 마지막에 표시 */
    }
    .automation-script-viewer .CodeMirror {
        font-size: 0.75em;
    }
}